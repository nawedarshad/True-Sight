"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5129],{64456:function(e,n,t){t.d(n,{f:function(){return a},I:function(){return o}});var r=t(97458),i=t(72118),s=t(52983);let l=(0,s.createContext)(void 0),a=e=>{let{children:n}=e,[t,a]=(0,s.useState)(null);return(0,s.useEffect)(()=>{a(i.Z.get("_ga")||null)},[]),(0,r.jsx)(l.Provider,{value:t,children:n})},o=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useGoogleAnalyticsCookie must be used within a GoogleAnalyticsCookieProvider");return e}},49376:function(e,n,t){t.d(n,{b:function(){return o}});var r=t(97458),i=t(83598),s=t(88711),l=t(92901);t(8109),t(8960),t(55247);var a=(0,t(22319).c)({defaultClassName:"_fsmm4n4 _1286nb12j1 _1286nb1291 _1286nb123v _1286nb12dv _1286nb16ru _1286nb197 _1286nb12tp _1286nb12tx",variantClassNames:{type:{danger:"_1286nb18al",info:"_1286nb17f3",success:"_1286nb1863"}},defaultVariants:{},compoundVariants:[]});let o=e=>{let{onClose:n,button:t,children:o,icon:c,permanent:d,type:u}=e;return(0,r.jsxs)(s.x,{className:a({type:u}),children:[c&&(0,r.jsx)(s.x,{display:{default:"none",sm:"inline-block"},children:(0,r.jsx)(l.J,{as:c,marginRight:"10",display:"block"})}),(0,r.jsxs)(s.x,{flex:"1",display:{default:"block",sm:"flex"},alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(s.x,{as:"p",marginRight:{default:"0",sm:"15"},marginBottom:{default:"5",sm:"0"},children:o}),t]}),!d&&(0,r.jsx)(s.x,{as:"button",padding:"5",marginRight:"-5",color:"white",onClick:n||void 0,children:(0,r.jsx)(l.J,{as:i.Z,marginLeft:"10"})})]})}},69541:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(93113);let i="session/xhr/device-manager/identify",s=(()=>{let e=()=>{try{let e=localStorage.getItem(i);if(!e)return null;return r.h.parse(JSON.parse(e))}catch(e){return null}};return{get:e,set:e=>localStorage.setItem(i,JSON.stringify(e)),remove:()=>localStorage.removeItem(i),isDeviceBlocked:()=>{var n;return null===(n=e())||void 0===n?void 0:n.disabled}}})()},16782:function(e,n,t){t.d(n,{en:function(){return p},Il:function(){return w},qx:function(){return h}});var r=t(97458),i=t(61826),s=t(49376),l=t(58785),a=t(32748),o=t(51835),c=t(45634),d=t(69541);let u=(0,o.cn)({key:"deviceIdentifyState",default:void 0,effects:[e=>{let{onSet:n}=e;n(e=>{if(!e){d.Z.remove();return}d.Z.set(e)})}]}),f=(0,o.cn)({key:"deviceBlockedModalState",default:!1}),b=(0,o.nZ)({key:"isDeviceBlocked",get:e=>{let{get:n}=e,t=n(u);return!!t&&t.disabled}}),h=()=>{let[e,n]=(0,o.FV)(f),t=(0,o.sJ)(b);return{isDeviceBlocked:(0,c.A)("DEVICE_LIMIT_BLOCK")&&t,isOpenDeviceBlockedModal:e,showDeviceBlockedModal:()=>n(!0),hideDeviceBlockedModal:()=>n(!1)}};var v=t(88711),g=t(92901),m=t(52956);t(8109),t(8960);let x=()=>{let{t:e}=(0,a.$G)("detail"),{isOpenDeviceBlockedModal:n,hideDeviceBlockedModal:t}=h();return(0,r.jsx)(m.u,{size:"sm",open:n,onOpenChange:t,children:(0,r.jsxs)(v.x,{textAlign:"center",children:[(0,r.jsxs)("div",{className:"_1286nb12o1 _1286nb12rp _1286nb197 _1286nb12tv _1286nb12uj _1286nb16hc",children:[(0,r.jsx)(g.J,{as:l.Z,size:"2xl",className:"_1286nb11hv _1286nb16bu"}),e("deviceBlocked.title")]}),(0,r.jsx)("p",{className:"_1286nb11b1 _1286nb11pp _1286nb12od _1286nb16hc _1286nb12sp",children:e("deviceBlocked.description")}),(0,r.jsx)(i.gg,{as:"a",href:"/user/device-manager",children:e("deviceBlocked.button")})]})})},p=()=>{let{t:e}=(0,a.$G)("common"),n="danger",{isDeviceBlocked:t}=h();if(!t)return null;let o=(0,r.jsx)(i.gg,{size:"sm",color:n,href:"/user/device-manager",children:e("downloadsDisabled.button")});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.b,{type:n,button:o,icon:l.Z,permanent:!0,children:[(0,r.jsx)("strong",{children:e("downloadsDisabled.title")})," ",e("downloadsDisabled.description")]}),(0,r.jsx)(x,{})]})};var _=t(72118),k=t(52983),j=t(93113);let y=async()=>{let e=await fetch("/user/device-manager/identify",{headers:{"Content-Type":"application/json","X-CSRF-TOKEN":_.Z.get("csrf_freepik")||"","X-Requested-With":"XMLHttpRequest"},method:"POST"});if(!e.ok)throw Error("Error checking user device data.");let n=await e.json();return j.I.parse(n)},w=e=>{let{children:n}=e,t=(0,o.Zl)(u);return(0,k.useEffect)(()=>{let e=async()=>{let e=new Date().getTime(),n={disabled:!1,expiry:e+18e5},t=d.Z.get();if(t&&t.expiry>e)return t;try{let e=await y();n.disabled=e.success&&e.disabled}catch(e){console.error("Error getting device manager status",e)}finally{d.Z.set(n)}return n};_.Z.get("GRID")&&e().then(t)},[t]),(0,r.jsx)(r.Fragment,{children:n})}},93113:function(e,n,t){t.d(n,{I:function(){return i},h:function(){return s}});var r=t(1850);let i=r.z.object({csrfToken:r.z.string().optional(),success:r.z.boolean(),disabled:r.z.boolean()}),s=r.z.object({disabled:r.z.boolean(),expiry:r.z.number()})}}]);