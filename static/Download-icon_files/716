(()=>{(()=>{var It={1583:function(T,L,_){(function(V,O){T.exports=L=O()})(this,function(){var V=V||function(O,M){var P;if(typeof window!="undefined"&&window.crypto&&(P=window.crypto),typeof self!="undefined"&&self.crypto&&(P=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(P=globalThis.crypto),!P&&typeof window!="undefined"&&window.msCrypto&&(P=window.msCrypto),!P&&typeof _.g!="undefined"&&_.g.crypto&&(P=_.g.crypto),!P)try{P=_(2480)}catch(o){}var D=function(){if(P){if(typeof P.getRandomValues=="function")try{return P.getRandomValues(new Uint32Array(1))[0]}catch(o){}if(typeof P.randomBytes=="function")try{return P.randomBytes(4).readInt32LE()}catch(o){}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function o(){}return function(p){var g;return o.prototype=p,g=new o,o.prototype=null,g}}(),Y={},Q=Y.lib={},J=Q.Base=function(){return{extend:function(o){var p=N(this);return o&&p.mixIn(o),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var o=this.extend();return o.init.apply(o,arguments),o},init:function(){},mixIn:function(o){for(var p in o)o.hasOwnProperty(p)&&(this[p]=o[p]);o.hasOwnProperty("toString")&&(this.toString=o.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),H=Q.WordArray=J.extend({init:function(o,p){o=this.words=o||[],p!=M?this.sigBytes=p:this.sigBytes=o.length*4},toString:function(o){return(o||U).stringify(this)},concat:function(o){var p=this.words,g=o.words,w=this.sigBytes,I=o.sigBytes;if(this.clamp(),w%4)for(var v=0;v<I;v++){var X=g[v>>>2]>>>24-v%4*8&255;p[w+v>>>2]|=X<<24-(w+v)%4*8}else for(var B=0;B<I;B+=4)p[w+B>>>2]=g[B>>>2];return this.sigBytes+=I,this},clamp:function(){var o=this.words,p=this.sigBytes;o[p>>>2]&=4294967295<<32-p%4*8,o.length=O.ceil(p/4)},clone:function(){var o=J.clone.call(this);return o.words=this.words.slice(0),o},random:function(o){for(var p=[],g=0;g<o;g+=4)p.push(D());return new H.init(p,o)}}),K=Y.enc={},U=K.Hex={stringify:function(o){for(var p=o.words,g=o.sigBytes,w=[],I=0;I<g;I++){var v=p[I>>>2]>>>24-I%4*8&255;w.push((v>>>4).toString(16)),w.push((v&15).toString(16))}return w.join("")},parse:function(o){for(var p=o.length,g=[],w=0;w<p;w+=2)g[w>>>3]|=parseInt(o.substr(w,2),16)<<24-w%8*4;return new H.init(g,p/2)}},$=K.Latin1={stringify:function(o){for(var p=o.words,g=o.sigBytes,w=[],I=0;I<g;I++){var v=p[I>>>2]>>>24-I%4*8&255;w.push(String.fromCharCode(v))}return w.join("")},parse:function(o){for(var p=o.length,g=[],w=0;w<p;w++)g[w>>>2]|=(o.charCodeAt(w)&255)<<24-w%4*8;return new H.init(g,p)}},f=K.Utf8={stringify:function(o){try{return decodeURIComponent(escape($.stringify(o)))}catch(p){throw new Error("Malformed UTF-8 data")}},parse:function(o){return $.parse(unescape(encodeURIComponent(o)))}},S=Q.BufferedBlockAlgorithm=J.extend({reset:function(){this._data=new H.init,this._nDataBytes=0},_append:function(o){typeof o=="string"&&(o=f.parse(o)),this._data.concat(o),this._nDataBytes+=o.sigBytes},_process:function(o){var p,g=this._data,w=g.words,I=g.sigBytes,v=this.blockSize,X=v*4,B=I/X;o?B=O.ceil(B):B=O.max((B|0)-this._minBufferSize,0);var j=B*v,Z=O.min(j*4,I);if(j){for(var tt=0;tt<j;tt+=v)this._doProcessBlock(w,tt);p=w.splice(0,j),g.sigBytes-=Z}return new H.init(p,Z)},clone:function(){var o=J.clone.call(this);return o._data=this._data.clone(),o},_minBufferSize:0}),G=Q.Hasher=S.extend({cfg:J.extend(),init:function(o){this.cfg=this.cfg.extend(o),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(o){return this._append(o),this._process(),this},finalize:function(o){o&&this._append(o);var p=this._doFinalize();return p},blockSize:512/32,_createHelper:function(o){return function(p,g){return new o.init(g).finalize(p)}},_createHmacHelper:function(o){return function(p,g){return new F.HMAC.init(o,g).finalize(p)}}}),F=Y.algo={};return Y}(Math);return V})},984:function(T,L,_){(function(V,O){T.exports=L=O(_(1583))})(this,function(V){return function(O){var M=V,P=M.lib,D=P.WordArray,N=P.Hasher,Y=M.algo,Q=[],J=[];(function(){function U(G){for(var F=O.sqrt(G),o=2;o<=F;o++)if(!(G%o))return!1;return!0}function $(G){return(G-(G|0))*4294967296|0}for(var f=2,S=0;S<64;)U(f)&&(S<8&&(Q[S]=$(O.pow(f,.5))),J[S]=$(O.pow(f,.3333333333333333)),S++),f++})();var H=[],K=Y.SHA256=N.extend({_doReset:function(){this._hash=new D.init(Q.slice(0))},_doProcessBlock:function(U,$){for(var f=this._hash.words,S=f[0],G=f[1],F=f[2],o=f[3],p=f[4],g=f[5],w=f[6],I=f[7],v=0;v<64;v++){if(v<16)H[v]=U[$+v]|0;else{var X=H[v-15],B=(X<<25|X>>>7)^(X<<14|X>>>18)^X>>>3,j=H[v-2],Z=(j<<15|j>>>17)^(j<<13|j>>>19)^j>>>10;H[v]=B+H[v-7]+Z+H[v-16]}var tt=p&g^~p&w,ut=S&G^S&F^G&F,dt=(S<<30|S>>>2)^(S<<19|S>>>13)^(S<<10|S>>>22),lt=(p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25),et=I+lt+tt+J[v]+H[v],nt=dt+ut;I=w,w=g,g=p,p=o+et|0,o=F,F=G,G=S,S=et+nt|0}f[0]=f[0]+S|0,f[1]=f[1]+G|0,f[2]=f[2]+F|0,f[3]=f[3]+o|0,f[4]=f[4]+p|0,f[5]=f[5]+g|0,f[6]=f[6]+w|0,f[7]=f[7]+I|0},_doFinalize:function(){var U=this._data,$=U.words,f=this._nDataBytes*8,S=U.sigBytes*8;return $[S>>>5]|=128<<24-S%32,$[(S+64>>>9<<4)+14]=O.floor(f/4294967296),$[(S+64>>>9<<4)+15]=f,U.sigBytes=$.length*4,this._process(),this._hash},clone:function(){var U=N.clone.call(this);return U._hash=this._hash.clone(),U}});M.SHA256=N._createHelper(K),M.HmacSHA256=N._createHmacHelper(K)}(Math),V.SHA256})},6600:()=>{(function(T,L){"use strict";T=T||"docReady",L=L||window;var _=[],V=!1,O=!1;function M(){if(!V){V=!0;for(var D=0;D<_.length;D++)_[D].fn.call(window,_[D].ctx);_=[]}}function P(){document.readyState==="complete"&&M()}L[T]=function(D,N){if(typeof D!="function")throw new TypeError("callback for docReady(fn) must be a function");if(V){setTimeout(function(){D(N)},1);return}else _.push({fn:D,ctx:N});document.readyState==="complete"||!document.attachEvent&&document.readyState==="interactive"?setTimeout(M,1):O||(document.addEventListener?(document.addEventListener("DOMContentLoaded",M,!1),window.addEventListener("load",M,!1)):(document.attachEvent("onreadystatechange",P),window.attachEvent("onload",M)),O=!0)}})("docReady",window)},2480:()=>{}},ft={};function z(T){var L=ft[T];if(L!==void 0)return L.exports;var _=ft[T]={exports:{}};return It[T].call(_.exports,_,_.exports,z),_.exports}z.n=T=>{var L=T&&T.__esModule?()=>T.default:()=>T;return z.d(L,{a:L}),L},z.d=(T,L)=>{for(var _ in L)z.o(L,_)&&!z.o(T,_)&&Object.defineProperty(T,_,{enumerable:!0,get:L[_]})},z.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(T){if(typeof window=="object")return window}}(),z.o=(T,L)=>Object.prototype.hasOwnProperty.call(T,L);var Wt={};(()=>{"use strict";var T=z(984),L=z.n(T);const _=document,V=null,O=null,M=()=>{const n=_.createElement("a");return n.href=O.location,n},P=(n,t)=>{const e=_.createElement("img");return e.height=1,e.width=1,e.style.display="none",e.src=n,e.onload=t,e.alt="",_.body.appendChild(e)},D=n=>{const t=_.createElement("iframe");return t.width=1,t.height=1,t.style.display="none",t.src=n,_.body.appendChild(t)},N=(n,t=!0)=>{const e=_.createElement("script");return e.type="text/javascript",e.src=n,e.async=t,_.body.appendChild(e)},Y={img:P,script:N,iframe:D},Q=(n,t)=>{t||(t=window.location.href),n=n.replace(/[\[\]]/g,"\\$&");let e=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),r=e.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},J=(n,t,e=()=>{},r=1e3)=>{function s(c,i,C,q){e(C)}const a=new XMLHttpRequest;a.open("get",n,!0),a.timeout=r,a.withCredentials=!0,a.ontimeout=()=>{const c=new Error(`Timeout after ${r}, url : ${n}`);s("AjaxTimeout",`Timeout after ${r}`,c,a)},a.setRequestHeader("Content-type","application/json"),a.onreadystatechange=()=>{if(a.readyState===4){const c=a.status;if(c>=200&&c<300||c===304)t(a.responseText,a);else{const i=new Error(`Incorrect status received : ${c}`);s("XHRError",`Error during XHR call: ${c}, url: ${n}`,i,a)}}},a.send()},H=n=>{let t="_au_"+n+"=",r=decodeURIComponent(document.cookie).split(";");for(let s=0;s<r.length;s++){let a=r[s];for(;a.charAt(0)==" ";)a=a.substring(1);if(a.indexOf(t)==0)return a.substring(t.length,a.length)}return null},K=(n,t,e)=>(parseInt(H(n))||0)+t<e,U=n=>{const t=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i;let r=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,s=n.split("."),a=s[s.length-1];(a.length>4||a==="com"||a==="org"||a==="net")&&(r=t);let c=n.match(r);return c?c[0]:n},$=(n,t)=>{document.cookie="_au_"+n+"="+t+"; domain="+U(document.location.hostname)+"; path=/; max-age=31536000"};function f(n){let t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ".split("");n||(n=Math.floor(Math.random()*t.length));let e="";for(let r=0;r<n;r++)e+=t[Math.floor(Math.random()*t.length)];return e}function S(){const n=Math.round(Date.now()/1e3);return"AU1S-0100-"+String(n).padStart(12,"0")+"-"+f(8)+"-"+f(4)}function G(n){function t(m,y){var E,A,R,x,b;return R=m&2147483648,x=y&2147483648,E=m&1073741824,A=y&1073741824,b=(m&1073741823)+(y&1073741823),E&A?b^2147483648^R^x:E|A?b&1073741824?b^3221225472^R^x:b^1073741824^R^x:b^R^x}function e(m,y,E,A,R,x,b){return m=t(m,t(t(y&E|~y&A,R),b)),t(m<<x|m>>>32-x,y)}function r(m,y,E,A,R,x,b){return m=t(m,t(t(y&A|E&~A,R),b)),t(m<<x|m>>>32-x,y)}function s(m,y,E,A,R,x,b){return m=t(m,t(t(y^E^A,R),b)),t(m<<x|m>>>32-x,y)}function a(m,y,E,A,R,x,b){return m=t(m,t(t(E^(y|~A),R),b)),t(m<<x|m>>>32-x,y)}function c(m){var y="",E="",A;for(A=0;3>=A;A++)E=m>>>8*A&255,E="0"+E.toString(16),y+=E.substr(E.length-2,2);return y}var i=[],C,q,ct,bt,u,d,l,h;for(n=function(m){m=m.replace(/\r\n/g,`
`);for(var y="",E=0;E<m.length;E++){var A=m.charCodeAt(E);128>A?y+=String.fromCharCode(A):(127<A&&2048>A?y+=String.fromCharCode(A>>6|192):(y+=String.fromCharCode(A>>12|224),y+=String.fromCharCode(A>>6&63|128)),y+=String.fromCharCode(A&63|128))}return y}(n),i=function(m){var y,E=m.length;y=E+8;for(var A=16*((y-y%64)/64+1),R=Array(A-1),x=0,b=0;b<E;)y=(b-b%4)/4,x=b%4*8,R[y]|=m.charCodeAt(b)<<x,b++;return y=(b-b%4)/4,R[y]|=128<<b%4*8,R[A-2]=E<<3,R[A-1]=E>>>29,R}(n),u=1732584193,d=4023233417,l=2562383102,h=271733878,n=0;n<i.length;n+=16)C=u,q=d,ct=l,bt=h,u=e(u,d,l,h,i[n+0],7,3614090360),h=e(h,u,d,l,i[n+1],12,3905402710),l=e(l,h,u,d,i[n+2],17,606105819),d=e(d,l,h,u,i[n+3],22,3250441966),u=e(u,d,l,h,i[n+4],7,4118548399),h=e(h,u,d,l,i[n+5],12,1200080426),l=e(l,h,u,d,i[n+6],17,2821735955),d=e(d,l,h,u,i[n+7],22,4249261313),u=e(u,d,l,h,i[n+8],7,1770035416),h=e(h,u,d,l,i[n+9],12,2336552879),l=e(l,h,u,d,i[n+10],17,4294925233),d=e(d,l,h,u,i[n+11],22,2304563134),u=e(u,d,l,h,i[n+12],7,1804603682),h=e(h,u,d,l,i[n+13],12,4254626195),l=e(l,h,u,d,i[n+14],17,2792965006),d=e(d,l,h,u,i[n+15],22,1236535329),u=r(u,d,l,h,i[n+1],5,4129170786),h=r(h,u,d,l,i[n+6],9,3225465664),l=r(l,h,u,d,i[n+11],14,643717713),d=r(d,l,h,u,i[n+0],20,3921069994),u=r(u,d,l,h,i[n+5],5,3593408605),h=r(h,u,d,l,i[n+10],9,38016083),l=r(l,h,u,d,i[n+15],14,3634488961),d=r(d,l,h,u,i[n+4],20,3889429448),u=r(u,d,l,h,i[n+9],5,568446438),h=r(h,u,d,l,i[n+14],9,3275163606),l=r(l,h,u,d,i[n+3],14,4107603335),d=r(d,l,h,u,i[n+8],20,1163531501),u=r(u,d,l,h,i[n+13],5,2850285829),h=r(h,u,d,l,i[n+2],9,4243563512),l=r(l,h,u,d,i[n+7],14,1735328473),d=r(d,l,h,u,i[n+12],20,2368359562),u=s(u,d,l,h,i[n+5],4,4294588738),h=s(h,u,d,l,i[n+8],11,2272392833),l=s(l,h,u,d,i[n+11],16,1839030562),d=s(d,l,h,u,i[n+14],23,4259657740),u=s(u,d,l,h,i[n+1],4,2763975236),h=s(h,u,d,l,i[n+4],11,1272893353),l=s(l,h,u,d,i[n+7],16,4139469664),d=s(d,l,h,u,i[n+10],23,3200236656),u=s(u,d,l,h,i[n+13],4,681279174),h=s(h,u,d,l,i[n+0],11,3936430074),l=s(l,h,u,d,i[n+3],16,3572445317),d=s(d,l,h,u,i[n+6],23,76029189),u=s(u,d,l,h,i[n+9],4,3654602809),h=s(h,u,d,l,i[n+12],11,3873151461),l=s(l,h,u,d,i[n+15],16,530742520),d=s(d,l,h,u,i[n+2],23,3299628645),u=a(u,d,l,h,i[n+0],6,4096336452),h=a(h,u,d,l,i[n+7],10,1126891415),l=a(l,h,u,d,i[n+14],15,2878612391),d=a(d,l,h,u,i[n+5],21,4237533241),u=a(u,d,l,h,i[n+12],6,1700485571),h=a(h,u,d,l,i[n+3],10,2399980690),l=a(l,h,u,d,i[n+10],15,4293915773),d=a(d,l,h,u,i[n+1],21,2240044497),u=a(u,d,l,h,i[n+8],6,1873313359),h=a(h,u,d,l,i[n+15],10,4264355552),l=a(l,h,u,d,i[n+6],15,2734768916),d=a(d,l,h,u,i[n+13],21,1309151649),u=a(u,d,l,h,i[n+4],6,4149444226),h=a(h,u,d,l,i[n+11],10,3174756917),l=a(l,h,u,d,i[n+2],15,718787259),d=a(d,l,h,u,i[n+9],21,3951481745),u=t(u,C),d=t(d,q),l=t(l,ct),h=t(h,bt);return(c(u)+c(d)+c(l)+c(h)).toLowerCase()}class F{constructor(t){this.pixels=t,this.parameters={sku:"",orderId:"",qty:"",revenue:"",ltv:""}}dropPixel(t,e){const r=this.pixels[t]||[];let s=this.parameters;e&&Object.keys(e).forEach(a=>(s[a]=e[a],!1)),r.forEach(a=>{let c=a,i="img";return typeof a!="string"&&(c=a[0],i=a[1],i||(i="img")),c=c.replace(/\[\[SKU\]\]/g,s.sku),c=c.replace(/\[\[ORDERID\]\]/g,s.orderId),c=c.replace(/\[\[QTY\]\]/g,s.qty),c=c.replace(/\[\[REVENUE\]\]/g,s.revenue),c=c.replace(/\[\[LTV\]\]/g,s.ltv),c=c.replace(/\[\[ITEMS\]\]/g,(s.items||[]).map(C=>C.id||"").join(",")),i==="img"?P(c):i==="script"?N(c):i==="iframe"?D(c):!1})}}const o="auPassiveTagger",p="UA-87198801-1",g="G-FVWZ0RM4DH",w=null,I="https://a.ad.gt",v="https://p.ad.gt",X="https://pixels.ad.gt",B="https://seg.ad.gt",j="https://ids.ad.gt",Z="https://proton.ad.gt";class tt{constructor(t,e){this.partnerId=t,this.taggerId=e,window.aupixels?this.pixels=window.aupixels.ec||{}:this.pixels={},this.ECPixels=new F(this.pixels),this.pageLoadRun=[],window.Adgt||(window.Adgt={}),window.Adgt.VarWatch=function(r,s,a){let c=r[s];function i(){if(r[s]!=c){const C=c;c=r[s],a(C,c)}}return i},window.Adgt.VarHandler=function(r,s){window.au.push({category:"DispatchEvent",eventName:"ProductMetaUpdated"}),clearInterval(window.Adgt.variantInterval)},window.Adgt.SetVarInterval=function(r,s){window.Adgt.variantInterval=setInterval(window.Adgt.VarWatch(r,s,window.Adgt.VarHandler),100)},window.Adgt.Store=this}pathIncludes(t){return window.location.pathname.indexOf(t)!==-1}updatePixels(){this.pixels=window.aupixels.ec||{},this.ECPixels=new F(this.pixels),this.pageLoadRun.forEach(t=>{let e={};t==="add"||t==="view"?e={sku:this.product.id}:t==="checkout"?e={qty:this.qty,revenue:this.revenue}:t==="transaction"&&(e={qty:this.transaction.items.length||this.qty,revenue:this.transaction.revenue||this.revenue,orderId:this.transaction.id}),this.ECPixels.dropPixel(t,e)}),this.pageLoadRun=[]}appendPageLoadPixelCheck(t){this.pageLoadRun.filter(r=>r===t).length||this.pageLoadRun.push(t)}setClassProducts(t){this.products=t,this.qty=t.length,this.revenue=t.reduce((e,r)=>e+parseFloat(r.price),0)}sendAddProductEventToGA(t){this.product=t;try{this.sendAddProductToGA(t),ga(`${o}.ec:setAction`,"add"),ga(`${o}.send`,"event","UX","click","add to cart"),this.ECPixels.dropPixel("add",{sku:t.id,revenue:t.price.toFixed(2)})}catch(e){console.error(e)}}sendViewProductEventToGA(t){this.product=t;try{ga(`${o}.ec:addImpression`,{id:t.id,name:t.name,price:t.price,brand:t.brand}),ga(`${o}.ec:setAction`,"detail"),ga(`${o}.send`,"pageview"),this.ECPixels.dropPixel("view",{sku:t.id})}catch(e){console.error(e)}}sendAllProductsInCartToGA(t,e){this.setClassProducts(t);try{for(let r=0;r<t.length;r++){const s=t[r];this.sendAddProductToGA(s)}return e(),!0}catch(r){return!1}}sendCheckoutEventToGA(){try{ga(`${o}.ec:setAction`,"checkout",{step:1}),ga(`${o}.send`,"event",{eventCategory:"Checkout",eventAction:"checkout",hitCallback:()=>{}}),this.ECPixels.dropPixel("checkout",{qty:this.qty,revenue:this.revenue})}catch(t){console.error(t)}}sendAllProductsInTransactionToGA(t,e){this.setClassProducts(t);try{for(let r=0;r<t.length;r++){const s=t[r];this.sendAddProductToGA(s)}return e(),!0}catch(r){return!1}}sendAddProductToGA(t){ga(`${o}.ec:addProduct`,{id:t.id,name:t.name,brand:t.brand,price:t.price,quantity:t.quantity||1})}sendTransactionEventToGA(t){this.transaction=t;try{ga(`${o}.ec:setAction`,"purchase",{id:t.id,affiliation:t.affiliation,revenue:t.revenue,tax:t.tax,shipping:t.shipping}),ga(`${o}.send`,"pageview"),this.ECPixels.dropPixel("transaction",{qty:(t.items||[]).length||this.qty,revenue:t.revenue||this.revenue,orderId:t.id,items:t.items||[],ltv:t.ltv||""})}catch(e){console.error(e)}}profilerServiceRequest(t){window.au.push({category:"sendUserBehaviour",action:JSON.stringify(t)})}sendErrorToSentry(){return!1}}class ut extends tt{constructor(t,e){super(t,e),this.brand=window.Shopify.shop}captureProduct(t){try{const e=window.ShopifyAnalytics.meta.selectedVariantId;let r=window.ShopifyAnalytics.meta.product.variants[0];return t?r=window.ShopifyAnalytics.meta.product.variants.find(function(s){return s.public_title===t}):e&&(r=window.ShopifyAnalytics.meta.product.variants.find(function(s){return s.id.toString()===e.toString()})),r||(r=window.ShopifyAnalytics.meta.product.variants[0],r.id=window.ShopifyAnalytics.meta.product.id),{id:`${r.id}-${this.taggerId}`,name:r.name,price:parseInt(r.price,10)/100,brand:this.brand}}catch(e){return console.error(e),null}}sendProductEvents(){const t=this.captureProduct();if(t){this.sendViewProductEventToGA(t),this.appendPageLoadPixelCheck("view");const e=document.querySelector('button[name="add"]')||document.querySelector("form#add-item-form button")||document.querySelector("button.shopify_add_to_cart")||document.querySelector('input[name="add"]')||document.querySelector(".ProductForm__AddToCart")||document.querySelector("#AddToCart")||document.querySelector('.product-add input[type="submit"]');e&&window.au.push({category:"ListenerAttacher",input:e,method:()=>{this.sendAddProductEventToGA(t),window.au.push({category:"behavior",action:"purchase-intent"});const r={event:"addToCart",data:t};this.profilerServiceRequest(r)}})}}captureCart(){try{const e=document.querySelector("#order-summary").querySelectorAll("tr.product"),r=[];for(let s=0;s<e.length;s++){const a=e[s],c=a.dataset.productId,i=a.querySelector(".product__description__name").textContent,C=parseFloat(a.querySelector(".product__price").textContent.replace(/[^0-9.]/g,"")),q=parseInt(a.querySelector(".product__quantity").textContent.replace(/\s+/g,""),10),ct={id:`${c}-${this.taggerId}`,name:i,brand:this.brand,price:C,quantity:q};r.push(ct)}return r}catch(t){return console.error(t),null}}calculateRevenue(t){let e=0;for(let r=0;r<t.length;r++)e+=parseFloat(t[r].price);return e}captureTransaction(){try{const t=window.Shopify.checkout,e=window.Shopify.shop,r=t.order_id,s=parseFloat(t.subtotal_price);let a=0;try{a=parseFloat(t.total_tax)}catch(C){console.error(C)}let c=0;if(t.shipping_rate)try{c=parseFloat(t.shipping_rate)}catch(C){try{c=parseFloat(t.shipping_rate.price)}catch(q){console.error(q)}}const i=this.formatProductsInTransaction(t.line_items);return{id:`${r}-${this.taggerId}`,affiliation:e,revenue:s,tax:a,shipping:c,items:i}}catch(t){return console.error(t),null}}formatProductsInTransaction(t){const e=t,r=[];for(let s=0;s<e.length;s++){const a=e[s],c={id:a.product_id,name:a.title,brand:this.brand,price:parseFloat(a.price),quantity:a.quantity};r.push(c)}return r}initialize(){const t={product:window.ShopifyAnalytics&&window.ShopifyAnalytics.meta&&window.ShopifyAnalytics.meta.product,checkout:window.Shopify.Checkout&&window.Shopify.Checkout.page&&window.Shopify.Checkout.page!=="thank_you",confirmation:window.Shopify.checkout},e=document.querySelectorAll("div.quickadd");if(e.length>0)for(let r=0;r<e.length;r++){const s=e[r],a=s.querySelector("button").dataset.cartAdd;let c=s.querySelector('[class$="item__title"]').textContent;if(s.querySelector(".js-option-value")){const q=s.querySelector(".js-option-value").textContent.split(": ");c+=q[q.length-1]}const i=parseFloat(s.querySelector(".product-price__price").textContent.replace(/[^0-9.]/g,"")),C={id:a,name:c,price:i,brand:this.brand};window.au.push({category:"ListenerAttacher",input:s,method:()=>{this.sendAddProductEventToGA(C);const q={event:"addToCart",data:C};window.au.push({category:"behavior",action:"purchase-intent"}),this.profilerServiceRequest(q)}})}if(t.product){this.sendProductEvents();const r=document.querySelectorAll(".swatch-element");if(r.length>0){window.addEventListener("ProductMetaUpdated",()=>{this.sendProductEvents()});for(let s=0;s<r.length;s++){const a=r[s];window.au.push({category:"ListenerAttacher",input:a,method:()=>{window.Adgt.SetVarInterval(window.ShopifyAnalytics.meta,"selectedVariantId")}})}}}if(t.checkout){const r=this.captureCart();r&&(window.au.push({category:"behavior",action:"checkout"}),this.appendPageLoadPixelCheck("checkout"),this.sendAllProductsInCartToGA(r,()=>this.sendCheckoutEventToGA()))}if(t.confirmation&&window.location.pathname.indexOf("thank_you")!==-1){const r=this.captureTransaction();if(r){const s=r.items;window.au.push({category:"behavior",action:"purchase-complete"}),this.appendPageLoadPixelCheck("transaction"),this.sendAllProductsInTransactionToGA(s,()=>this.sendTransactionEventToGA(r))}else this.transaction={id:`null-${this.taggerId}`,affiliation:this.brand,revenue:0,tax:0,shipping:0,items:[]},this.appendPageLoadPixelCheck("transaction")}}}const dt=ut;class lt{constructor(t,e){this.partnerId=t,this.dataStore=e,this.LAST_SEEN_TCF_KEY="last_seen_iab_tcf",this.LAST_SEEN_CUSTOM_KEY="last_seen_iab_custom",this.COOKIE_TTL=30*24*60*60*1e3}SendToQueue(t){return K(this.LAST_SEEN_CUSTOM_KEY,this.COOKIE_TTL,1*new Date)&&(window.au.push({category:"sendConsent",consented:t,consentType:"custom"}),$(this.LAST_SEEN_CUSTOM_KEY,1*new Date)),ga(`${o}.send`,{hitType:"event",eventCategory:t?"user_consent":"user_nonconsent",eventAction:window.location.hostname}),!0}sendRequest(t){$(this.LAST_SEEN_TCF_KEY,1*new Date),window.au.push({category:"sendConsent",consented:t.vendor.consents[561]||!1,consentType:"gdpr",consentString:t.tcString})}WmgConsentListeners(){document.querySelectorAll("div.overlay, .ppclose, .ppclose2").forEach(e=>{e.addEventListener("click",()=>this.SendToQueue(!0)),e.addEventListener("touchend",()=>this.SendToQueue(!0))})}UproxxConsentListeners(){document.querySelectorAll(".qc-cmp-button").forEach(e=>{let r=!0;e.textContent.toLowerCase().includes("do not")&&(r=!1),e.addEventListener("click",()=>this.SendToQueue(r)),e.addEventListener("touchend",()=>this.SendToQueue(r))})}addConsentListeners(){String(this.partnerId)==="14"&&this.WmgConsentListeners(),String(this.partnerId)==="24"&&this.UproxxConsentListeners();try{__tcfapi("addEventListener",2,(t,e)=>{e&&(t.eventStatus==="tcloaded"&&t.gdprApplies&&K(this.LAST_SEEN_TCF_KEY,this.COOKIE_TTL,1*new Date)&&this.sendRequest(t),t.eventStatus==="useractioncomplete"&&t.gdprApplies&&this.sendRequest(t))})}catch(t){return!1}return!1}}const et=60*1e3,nt=60*et,zt=24*nt;function Lt(n){var t="au/test";try{return n.localStorage.setItem(t,t),n.localStorage.removeItem(t),!0}catch(e){return!1}}class xt{constructor(t){this.w=t,this.now=1*new Date,this.useCookie=!Lt(this.w)}getCookie(t){return H(t)}get(t,e=!1){if(this.useCookie||e)return this.getCookie(t);let r=this.w.localStorage.getItem("au/"+t);if(r){if(r=JSON.parse(r),r.e>this.now)return r.v;this.w.localStorage.removeItem("au/"+t)}return null}setCookie(t,e,r=et){$(t,e)}set(t,e,r=et,s=!1){this.useCookie||s?this.setCookie(t,e,r):this.w.localStorage.setItem("au/"+t,JSON.stringify({v:e,e:this.now+r}))}}const Rt=xt;var gt=n=>{throw TypeError(n)},Ot=(n,t,e)=>t.has(n)||gt("Cannot "+e),kt=(n,t,e)=>t.has(n)?gt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),st=(n,t,e)=>(Ot(n,t,"access private method"),e),rt,vt,ht,yt;function qt(n,t){let e=[];try{if(typeof t.featurePolicy=="undefined")return e;"browsingTopics"in t&&t.featurePolicy.allowsFeature("browsing-topics")&&e.push("BT"),"joinAdInterestGroup"in n.navigator&&t.featurePolicy.allowsFeature("join-ad-interest-group")&&e.push("JI"),"runAdAuction"in n.navigator&&t.featurePolicy.allowsFeature("run-ad-auction")&&e.push("RA"),t.featurePolicy.allowsFeature("attribution-reporting")&&e.push("AR")}catch(r){console.error(r)}return e}class Ht{constructor(t,e,r){kt(this,rt),this.w=t,this.d=e,this.auvars=r,this.iframe=null,this.iframeQueue=[],this.iframeReady=!1}run(){let t=new XMLHttpRequest;const e=new URL(`${B}/api/v2/match`);let r={hostname:this.w.location.hostname,partner_id:this.auvars.p,audigent_id:this.auvars.a};this.auvars.t!=null&&(r.tagger_id=this.auvars.t);let s=U(this.w.location.hostname),a=this;return t.onload=function(){var c;if(t.readyState==XMLHttpRequest.DONE&&t.status==200){const i=JSON.parse(t.response);if(!Array.isArray(i))return;st(c=a,rt,vt).call(c),i.forEach(C=>{var q;C.domain=s,st(q=a,rt,ht).call(q,C)})}},t.open("POST",e,!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(r)),!0}}rt=new WeakSet,vt=function(){this.iframe=this.d.createElement("iframe"),this.iframe.style.display="none",this.iframe.src=`${Z}/join-ad-interest-groups.html`,this.iframe.allow="join-ad-interest-group; attribution-reporting",this.d.body.appendChild(this.iframe);let n=this;this.iframe.onload=()=>{n.iframeReady=!0,n.iframeQueue.forEach(t=>{var e;st(e=n,rt,ht).call(e,t)})}},ht=function(n){n.channel="AUPA",n.evid=f(8),this.iframeReady==!1?this.iframeQueue.push(n):(this.iframe.contentWindow.postMessage(n,Z),st(this,rt,yt).call(this,n))},yt=function(n){const t=n.evid;switch(n.consumer){case"AUDIGENT":{const e=n.igs.map(r=>r.name);this.w.au.push({partnerId:this.p,category:"sendEvent",event:{type:"join_ad_interest_group",interest_groups:e,event_id:t}})}break;case"YAHOO":case"NEXTROLL":{const e=n.segs;this.w.au.push({partnerId:this.p,category:"sendEvent",event:{type:"external_audience",audiences:e,event_id:t,consumer:n.consumer}});break}default:break}};var $t=Object.defineProperty,Dt=Object.defineProperties,Ut=Object.getOwnPropertyDescriptors,mt=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,wt=n=>{throw TypeError(n)},_t=(n,t,e)=>t in n?$t(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,k=(n,t)=>{for(var e in t||(t={}))Bt.call(t,e)&&_t(n,e,t[e]);if(mt)for(var e of mt(t))Gt.call(t,e)&&_t(n,e,t[e]);return n},pt=(n,t)=>Dt(n,Ut(t)),At=(n,t,e)=>t.has(n)||wt("Cannot "+e),St=(n,t,e)=>(At(n,t,"read from private field"),e?e.call(n):t.get(n)),Et=(n,t,e)=>t.has(n)?wt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Ct=(n,t,e,r)=>(At(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),at,it;const W=window,ot=document,Tt={"og:title":"title","og:description":"description","og:image":"image","og:url":"url","og:type":"type","og:name":"name","og:locale":"locale"},Pt={description:"description",keywords:"keywords"},Mt="meta[name='audigent:tags']";class Nt{constructor(t){Et(this,at),Et(this,it);const{auvars:e,decoratorTarget:r,taggerStrategy:s}=t||{};this.w=W,this.u=W.location,this.d=ot,this.auvars=e,this.dataStore=new Rt(W),this.customOptions={},this.isIndexPage=this.u.pathname==="/",this.customTags=[],this.customAttributes={},this.userDefinedTags=[],this.userDefinedAttributes={},this.internalLinks=[],this.GlobalHandlers={},this.randNum=Math.random(),this.decoratorTarget=r||(this.isIndexPage?.95:.97),this.u.hostname.toLowerCase().endsWith("lnk.to")?this.taggerStrategy="FULL_PATH":this.taggerStrategy=s||this.auvars.tgs||"NONE",Ct(this,at,new lt(this.auvars.p,this.dataStore)),this.psf=qt(this.w,this.d),Ct(this,it,new Ht(this.w,this.d,this.auvars,this.dataStore)),this.setupSessionId(),this.setupHadron(),this.setupGA(),this.setupGA4()}docReady(){if(this.customOptions.autoPageView!==!1&&this.sendPageView(),this.setupConsentHandler(),this.ListenerIterator("a",this.clickHandler),W.addEventListener("hashchange",()=>{this.sendSPAPageView({url:this.u.href}),this.pixels()}),window.Shopify){const t=new dt(this.auvars.p,this.auvars.t);t.initialize(),window.addEventListener("aupixels",()=>{t.updatePixels()})}this.psf.includes("JI")&&St(this,it).run()}clearOptions(){this.customOptions={}}setOptions(t){const{options:e}=t||{};return typeof e=="object"?(this.customOptions=k(k({},this.customOptions),e),!0):!1}observeDom(t,e,r={childList:!0}){const s=window.MutationObserver||window.WebKitMutationObserver;if(!(!t||t.nodeType!==1))if(s){const a=new s(e);return a.observe(t,r),a}else window.addEventListener&&(t.addEventListener("DOMNodeInserted",e,!1),t.addEventListener("DOMNodeRemoved",e,!1))}push(t,e,r){if(typeof t=="string")return e&&e!==this.auvars.p?(console.warn("[Audigent] skip .push("+t+"), p is not a match"),!1):(console.warn('[Audigent] deprecated use of "push": please use .push( object )'),(this[t]||(()=>!1)).call(this,r),!0);if(t&&typeof t=="object"){const{fn:s,category:a,partnerId:c}=t,i=s||a;if(c&&c!==this.auvars.p)return console.warn("[Audigent] skip .push("+i+"), partnerId is not a match"),!1;if(s){const C=t.args;return Array.isArray(C)?(C.map(q=>(this[i]||(()=>!1)).call(this,q)),!0):((this[i]||(()=>!1)).call(this,C),!0)}return(this[i]||(()=>!1)).call(this,t),!0}return console.warn("[Audigent] could not execute the required command: please check your syntax"),!1}setupHadron(){(this.w.hadron||{loaded:!1}).loaded===!0?this.auvars.h=this.w.hadron.id:this.auvars.h=null}getAudigentId(t){if(t instanceof Function)return t(this.auvars.a),this.auvars.a;const{callback:e}=t||{};return e instanceof Function&&e(this.auvars.a),this.auvars.a}setupSessionId(){let t=this.dataStore.get("sid");t==null&&(t=S()),this.auvars.s=t,this.dataStore.set("sid",t,30*et)}getTaggerComponents(){return null}setupTaggerId(){const t=this.u.hostname.toLowerCase(),e=this.getTags();let r=this.getTaggerComponents();Array.isArray(r)&&r.length>0||(this.taggerStrategy=="FULL_PATH"?r=[t,this.u.pathname,this.auvars.p]:Array.isArray(e)&&e.length>0?r=[t,"["+e.join(",").toLowerCase()+"]",this.auvars.p]:r=[t,"/",this.auvars.p]);const s=G(r.join("")).toLowerCase();return this.auvars.t=s,this.dataStore.set("tid",s,nt),s}getMetaAttributes(){const t=this.d.querySelectorAll("meta");let e={url:this.u.href,title:this.d.title};for(const r of t){let s;const a=r.getAttribute("property");if(a!==void 0)a in Tt&&(s=Tt[a]);else{const c=r.getAttribute("name");c in Pt&&(s=Pt[c])}if(s!==void 0){const c=r.getAttribute("content");c!==void 0&&typeof c=="string"&&(s==="keywords"?e[s]=c.split(",").map(i=>i.trim()).filter(i=>i.length>0):(!(s in e)||e[s].length<c.length)&&(e[s]=c))}}return e}getCustomAttributes(){return{}}getAttributes(){return k(k(k(k({},this.customAttributes),this.userDefinedAttributes),this.getCustomAttributes()),this.getMetaAttributes())}clearAttributes(){this.userDefinedAttributes={}}setAttributes(t){const{attributes:e}=t||{};return typeof e=="object"?(this.userDefinedAttributes=e,!0):!1}addAttributes(t){const{attributes:e}=t||{};return typeof e=="object"?(this.userDefinedAttributes=k(k({},this.userDefinedAttributes),e),!0):!1}getMetaTags(){const t=document.head.querySelectorAll(Mt)[0];return t?t.content.split("|").map(e=>e.trim()).filter(e=>e.length>0).map(e=>(this.u.hostname+" > "+e).toUpperCase()):[]}getCustomTags(){return[]}getTags(){return[...this.customTags,...this.userDefinedTags,...this.getCustomTags(),...this.getMetaTags()].filter(e=>typeof e=="string"||e instanceof String).map(e=>e.replace(/,/g,"")).map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.toUpperCase())}clearTags(){this.userDefinedTags=[]}setTags(t){const{tags:e}=t||{};return Array.isArray(e)?(this.userDefinedTags=e,!0):typeof e=="string"?(this.userDefinedTags=[e],!0):!1}addTags(t){const{tags:e}=t||{};return Array.isArray(e)?(this.userDefinedTags=[...e,...this.userDefinedTags],!0):typeof e=="string"?(this.userDefinedTags=[e,...this.userDefinedTags],!0):!1}writeDecoratorRecord(t){const{tags:e,decor_dict:r,attributes:s}=t;this.customTags=[...this.customTags,...e||[]],this.customAttributes=k(k(k({},this.customAttributes),r||{}),s||{})}sendDecoratorRecord(){if(!(this.randNum>=this.decoratorTarget))return null;const e=this.getAttributes(),r=this.getTags(),s=pt(k({},e),{tags:r.join(),tagger_id:this.auvars.t,partner_id:this.auvars.p});let a=new XMLHttpRequest,c=`${v}/api/v1/dec`;return a.open("POST",c,!0),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(s)),a}setupGA(){W.ga||function(t,e,r,s,a,c,i){t.GoogleAnalyticsObject=a,t[a]=t[a]||function(){(t[a].q=t[a].q||[]).push(arguments)},t[a].l=1*new Date,c=e.createElement(r),i=e.getElementsByTagName(r)[0],c.async=1,c.src=s,i.parentNode.insertBefore(c,i)}(W,ot,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create",p,"auto",o),this.auvars.disable_ecommerce||(ga(`${o}.require`,"ecommerce"),ga(`${o}.require`,"ec")),ga(`${o}.set`,"anonymizeIp",!0),ga(`${o}.set`,"dimension1",this.auvars.a),ga(`${o}.set`,"dimension2","none"),ga(`${o}.set`,"dimension3",this.auvars.p),ga(`${o}.set`,"dimension4",this.u.hostname),ga(`${o}.set`,"dimension5",this.u.pathname),ga(`${o}.set`,"dimension6","Passive Tagger")}setupGA4(){try{var t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id="+g+"&l=audDataLayer",t.async=!0,document.head.appendChild(t),typeof W.audGtag!="function"&&(W.audDataLayer=W.audDataLayer||[],W.audGtag=function(){W.audDataLayer.push(arguments)}),audGtag("js",new Date),audGtag("config",g,{user_id:this.auvars.a,dimension3:this.auvars.p,dimension4:this.u.hostname,dimension5:this.u.pathname,groups:"audigent",send_page_view:!1})}catch(e){console.error(e)}}ListenerIterator(t,e){Array.prototype.forEach.call(this.d.querySelectorAll(t),r=>{this.ListenerAttacher({input:r,method:e})})}ListenerAttacher(t){const{input:e,method:r}=t;e!=null&&(e.addEventListener?e.addEventListener("mousedown",r.bind(this),!1):e.attachEvent&&e.attachEvent("mousedown",r))}GlobalListenerHandler(t){this.GlobalHandlers[t.type].forEach(e=>{if(t.target.matches(e.selector))e.method(t);else{let r=t.target,s=!1;for(;r.parentElement&&!s;)r=r.parentElement,s=r.matches(e.selector),s&&e.method(pt(k({},t),{target:r}))}})}GlobalListenerAttacher(t,e,r){typeof t=="string"&&(t=[t]),t.forEach(s=>{this.GlobalHandlers[s]=this.GlobalHandlers[s]||[],this.GlobalHandlers[s].push({selector:e,method:r}),document.addEventListener?(document.removeEventListener(s,window.au.l),document.addEventListener(s,window.au.l)):document.attachEvent&&(document.detachEvent(s,window.au.l),document.attachEvent(s,window.au.l))})}sendOffsiteClick(t){const{url:e}=t;P(`${I}/api/v1/off-site-click/${this.auvars.p}?tagger_id=${this.auvars.t}&url=${e}`)}clickHandler(t){let e=t.currentTarget.getAttribute("href");e!==null&&this.internalLinks.includes(window.location.hostname)&&window.au.push({category:"sendSPAPageView",url:e})}sendUserBehaviour(t){const{action:e}=t,r={click_url:e,tagger_id:this.auvars.t,audigent_id:this.auvars.a,partner_id:this.auvars.p},s=new Blob([JSON.stringify(r)],{type:"application/json"});this.w.navigator.sendBeacon(`${v}/api/v1/ubh`,s)}behavior(t){const e=encodeURIComponent(`${this.u.protocol}//${this.u.hostname}${this.u.pathname}__audigent-behavior-${t.action}${this.u.search}${this.u.hash}`);this.sendOffsiteClick({url:e}),this.sendGAEvent({eventCategory:"audigent-behavior",eventAction:t.action,eventLabel:this.auvars.t})}sendEvent(t){let{event:e,events:r,type:s}=t;if(e=e||r,!e){if(!s)return null;e=k({},t),delete e.category,delete e.partnerId}const a={tagger_id:this.auvars.t,partner_id:this.auvars.p,audigent_id:this.auvars.a,events:Array.isArray(e)?e:[e]};let c=new XMLHttpRequest,i=`${v}/api/v1/event`;return c.open("POST",i,!0),c.setRequestHeader("Content-type","application/json"),c.send(JSON.stringify(a)),""}sendGAEvent(t){const{eventCategory:e,eventAction:r,eventLabel:s,skipSQS:a}=t;ga(`${o}.send`,{hitType:"event",eventCategory:e,eventAction:r,eventLabel:s}),a||window.au.push({category:"sendEvent",event:{type:e,eventAction:r,eventLabel:s}})}sendConsent(t){const e={audigent_id:this.auvars.a,tagger_id:this.auvars.t,partner_id:this.auvars.p,consented:t.consented,consent_type:t.consentType,consent_string:t.consentString};let r=new XMLHttpRequest,s=`${v}/api/v1/con`;return r.open("POST",s,!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(e)),""}segCapture(){const{au_seg:t}=window,e=(t||{}).segments||[];if((e.length>0||this.auvars.p=="584")&&this.randNum>=.9){const r={tagger_id:this.auvars.t,partner_id:this.auvars.p,audigent_id:this.auvars.a,segment_ids:e.length>0?e.join("|"):null};let s=new XMLHttpRequest,a=`${v}/api/v1/segs`;return s.open("POST",a,!0),s.setRequestHeader("Content-type","application/json"),s.send(JSON.stringify(r)),!0}return!1}pixels(){const t=`${X}/api/v1/getpixels?tagger_id=${this.auvars.t}&url=${encodeURIComponent(this.u.href)}&code='none'`;N(t,!0)}setupConsentHandler(){St(this,at).addConsentListeners()}sendSPAPageView(t){let{url:e}=t;if(e){e.startsWith("//")&&(e="http://"+e),(e.startsWith("/")||!e.includes("://"))&&(e=this.d.location.protocol+"//"+this.d.location.host+(e.startsWith("/")?"":"/")+e);try{let r=new URL(e);r.host===this.d.location.host&&(this.sendOffsiteClick(r.href),ga(`${o}.send`,"pageview",r.pathname+r.hash))}catch(r){}}}tags(t){console.warn("[Audigent] this method is deprecated (params: "+JSON.stringify(t)+"). Use addTags/setTags/clearTags instead. Please contact your account manager for more info.");const r=(t.action||t.data||[]).map(s=>s.toUpperCase());this.push({category:"addTags",tags:r})}conversion(t){console.log(`[Audigent] Conversion Event - ${t.action}`)}sendPageView(t){this.randNum=Math.random();const e=this.setupTaggerId(),r=1*new Date,s={event_timestamp:r,url:this.w.location.href,referrer:this.d.referrer,partner_id:this.auvars.p,tagger_id:this.auvars.t,audigent_id:this.auvars.a,session_id:this.auvars.s,p_s_f:this.psf};this.auvars.h&&(s.hadron_id=this.auvars.h);const a=(t||{}).data||{},c={category:"pageView",version:"v2",created_at:r,properties:k(k({},s),a)};let i=new XMLHttpRequest,C=`${I}/api/v1/collect`;i.open("POST",C,!0),i.withCredentials=!0,i.setRequestHeader("Content-type","text/plain"),i.send(this.w.btoa(JSON.stringify(c))),this.pixels(),this.sendDecoratorRecord(),ga(`${o}.set`,"dimension7",e),audGtag("set",{dimension7:e,send_to:g}),(this.randNum>=.95||["158"].includes(this.auvars.p.toString())&&this.randNum>=.8||["220"].includes(this.auvars.p.toString())&&this.randNum>=.5)&&audGtag("event","page_view",{dimension7:e,send_to:g})}beopEvent(t){const e=t.partnerId||this.auvars.p;this.sendEvent({event:pt(k({},t.data||{}),{partner_id:e,type:"beop"})})}trackEvent(t){return!1}DispatchEvent(t){const{eventName:e}=t,s=(a=>{if(typeof window.CustomEvent=="function")return new CustomEvent(a);const c={bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent");return i.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),i})(e);window.dispatchEvent(s)}optout(){P(`${j}/api/v1/optout?au_id=${this.auvars.a}`)}setupInPageTaxonomy(t){let e=new URL(`${B}/api/v1/segments`);if(e.searchParams.set("url",encodeURIComponent(this.u.href)),e.searchParams.set("partner_id",this.auvars.p),this.auvars.t!==void 0)e.searchParams.set("tagger_id",this.auvars.t);else{const a=this.setupTaggerId();e.searchParams.set("tagger_id",a)}e.searchParams.set("au_id",this.auvars.a);let r=new XMLHttpRequest,s=this;r.timeout=1e4,r.onload=function(){if(r.readyState==XMLHttpRequest.DONE&&r.status==200){const c=JSON.parse(r.response);s.w.au_seg=c,(t||[]).forEach(i=>i(W,ot,c.segments));var a=new CustomEvent("auSegReady",{detail:c});ot.dispatchEvent(a),s.segCapture()}},r.ontimeout=function(){console.log("[Audigent] Taxonomy Service > Timeout")},r.onerror=function(){console.log("[Audigent] Taxonomy Service > Invalid Response")},r.open("GET",e,!0),r.send()}addUserIdentity(t){if(!t)return!1;const{identityType:e,identityValue:r}=t;if(e===void 0||r===void 0)return!1;if(e==="email"){const s=window.btoa(r);return this.sendEvent({event:{type:"e",value:s}})}else return this.sendEvent({event:{type:"u",[e]:r,identityType:e,identityValue:r}})}addUserEmailAddress(t){if(!t)return!1;const{identityValue:e}=t;if(e===void 0)return!1;let r=e.toLowerCase().trim();if(r.endsWith("@gmail.com")){let a=r.split("@")[0];a=a.split("+")[0],a=a.replace(/\./g,""),r=a+"@gmail.com"}const s=L()(r).toString();return this.addUserIdentity({identityType:"hem_sha256",identityValue:s})}addUserProperty(t){if(!t)return!1;const{propertyName:e,propertyValue:r}=t;return e===void 0||r===void 0?!1:e==="email"?this.addUserIdentity({identityType:"email",identityValue:r}):this.sendEvent({event:{type:"user.property",propertyName:e,propertyValue:r}})}}at=new WeakMap,it=new WeakMap;const Vt=Nt;var Xt=z(6600);function Ft(n,t){const e="716";let r=n.au&&Array.isArray(n.au)?[...n.au]:[];n.auvars.autag_objs=[...(n.auvars.autag_objs||[]).filter(s=>s!=="autag"),"autag"],n.au={push:(...s)=>{n.auvars.autag_objs.forEach(a=>Object.values(n[a]||{}).forEach(c=>c.push(...s)))},l:s=>{n.auvars.autag_objs.forEach(a=>Object.values(n[a]||{}).forEach(c=>c.GlobalListenerHandler(s)))},init:()=>{n.auvars[e].hist=n.auvars[e].hist||[];const s=n.auvars[e].hist.slice(-1)[0];n.autag=n.autag||{},(!n.autag[e]||s!==n.location.href)&&(n.auvars[e].hist.push(n.location.href),n.autag[e]=t({auvars:n.auvars[e]}))}},n.au.init(),r.forEach(s=>n.au.push(s))}docReady(()=>window.au.push({category:"docReady"}));class jt extends Vt{}(function(n){Ft(n,function(t){return new jt(t)})})(window)})()})();})();